<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>VML|Kernel Diff</title>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
		<script src="//code.jquery.com/jquery-1.11.1.min.js">
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	</head>
	<body style="margin-left: 20px; margin-right: 20px;">
		<form method="post">{% csrf_token %}
			<div style="margin-top: 20px; margin-bottom: 20px;">
				<button type="submit" class="btn btn-primary btn-xl">
					Diff Kernels
				</button>
			</div>
			<div style="width: 50%; display: relative; float: left;">
				{{ form.kernel_one }}
			</div>
			<div style="width: 50%; display: relative; float: right;">
				{{ form.kernel_two }}
			</div>
		</form>
		<br />


		<div style="margin-top: 20px;">
			{% if display_list %}
				{% for name in display_list %}
				<div style="margin-top: 5px; margin-bottom: 5px;">
					<span style="width: 50%; display: relative; float: left; border-bottom: 1px solid #000;">
						{% if name.kv_one_id != 'null' %}
							<p class="{{ name.kv_one_id }}">
								<script>
							        $(document).ready(function() {						         
						                $.ajax({
						                    url: "{{ api_url_root }}/api/mod_pretty/{{ name.kv_one_id }}",
						                    dataType: "text",
						                    success: function(data) {
						                        var json = $.parseJSON(data);
						                        $(".{{ name.kv_one_id }}").append(json.name + ', ' + json.version + ', ' + json.srcversion);
						                    }
						                });
							        });
							    </script>
						    </p>
						{% else %}
							<p style="font-weight: bold; color: #cc0000;">null</p>
						{% endif %}
					</span>
					<span style="width: 50%; display: relative; float: right; border-bottom: 1px solid #000;">
						{% if name.kv_two_id != 'null' %}
							<p class="{{ name.kv_two_id }}">
								<script>
							        $(document).ready(function() {						         
						                $.ajax({
						                    url: "{{ api_url_root }}/api/mod_pretty/{{ name.kv_two_id }}",
						                    dataType: "text",
						                    success: function(data) {
						                        var json = $.parseJSON(data);
						                        $(".{{ name.kv_two_id }}").append(json.name + ', ' + json.version + ', ' + json.srcversion);
						                    }
						                });
							        });
							    </script>
						    </p>
						{% else %}
							<p style="font-weight: bold; color: #cc0000;">null</p>
						{% endif %}
					</span>
				</div>
				{% endfor %}
			{% endif %}
		</div>
	</body>
</html>


