<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>VML|Kernel Diff</title>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.5.4/bootstrap-select.css">
		<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.5.4/bootstrap-select.js"></script>
	</head>





	<body style="margin-left: 20px; margin-right: 20px;">

		<!-- KERNEL SELECTING FORM -->
		<div id="kernel_selection_form" style="padding-top: 20px; padding-bottom: 20px;">
			<form method="post">{% csrf_token %}
				<div style="width: 100px; display: relative; float:left;">
					<button type="submit" class="btn btn-primary">
						Diff Kernels
					</button>
				</div>
				<div style="width: calc(50% - 50px); display: relative; float: left;">
					{% load widget_tweaks %}
					{{ form.kernel_one|append_attr:"class:selectpicker"|append_attr:"data-style:btn-success"|append_attr:"data-live-search:true" }}
					<script type="text/javascript">
						$('.selectpicker').selectpicker('render');
					</script>
				</div>
				<div style="width: calc(50% - 50px); display: relative; float: right;">
					{{ form.kernel_two|append_attr:"class: selectpicker"|append_attr:"data-style: btn-success"|append_attr:"data-live-search: true" }}
					<script type="text/javascript">
						$('.selectpicker').selectpicker('render');
					</script>
				</div>
			</form>
		</div>

		<div id="kernel_diff_output">
			{% if kernel_diff_info %}
				{% for row in kernel_diff_info %}
					<div class="kernel_diff_row" style="width:100%;">
						{% if row.kernel_one_module != "null" %}
							<div class="kernel_one_column" style="width:calc(50% - 50px); margin-left: 100px; float: left;">
								<div class="kernel_column_header {{ row.kernel_one_module.module_name}}{{ row.kernel_one_module.version }}{{ row.kernel_one_module.srcversion }}" style="font-weight: bold; width: 100%; text-align: center;
								{% if row.kernel_one_module.aliases %}
									background-color: #cc0000; color: #fff;
								{% else %}
									background-color: #aaa; color: #fff;
								{% endif %}
								">
									<p style="margin-bottom: 0px;">
										{{ row.kernel_one_module.module_name}}
										{% if row.kernel_one_module.version != 'NULL' %}
											 {{ row.kernel_one_module.version }}
										{% endif %}
										{% if row.kernel_one_module.srcversion != 'NULL' %}
											 {{ row.kernel_one_module.srcversion }}
										{% endif %}
									</p>
								</div>
								{% if row.kernel_one_module.aliases %}
									<div class="kernel_column_header aliases-{{ row.kernel_one_module.module_name}}{{ row.kernel_one_module.version }}{{ row.kernel_one_module.srcversion }}" style="width: 100%;">
									{% for alias in row.kernel_one_module.aliases %}
										<p style="margin-bottom: 0px;" class="alias {{ alias }} {{ row.kernel_one_module.module_name}}{{ row.kernel_one_module.version }}{{ row.kernel_one_module.srcversion }}">{{ alias }}</p>
									{% endfor %}
									</div>
								{% endif %}
							</div>
						{% endif %}
						{% if row.kernel_two_module != "null" %}
							<div class="kernel_two_column" style="width:calc(50% - 50px); float: right;">
								<div class="kernel_column_header {{ row.kernel_one_module.module_name}}{{ row.kernel_one_module.version }}{{ row.kernel_one_module.srcversion }}" style="font-weight: bold; width: 100%;">
									<p style="margin-bottom: 0px;">
										{{ row.kernel_two_module.module_name}}
										{% if row.kernel_two_module.version != 'NULL' %}
											 {{ row.kernel_two_module.version }}
										{% endif %}
										{% if row.kernel_two_module.srcversion != 'NULL' %}
											 {{ row.kernel_two_module.srcversion }}
										{% endif %}
									</p>
								</div>
								{% if row.kernel_two_module.aliases %}
									<div class="kernel_column_header aliases-{{ row.kernel_two_module.module_name}}{{ row.kernel_two_module.version }}{{ row.kernel_two_module.srcversion }}" style="width: 100%;">
									{% for alias in row.kernel_two_module.aliases %}
										<p style="margin-bottom: 0px;" class="alias {{ alias }} {{ row.kernel_two_module.module_name}}{{ row.kernel_two_module.version }}{{ row.kernel_two_module.srcversion }}">{{ alias }}</p>
									{% endfor %}
									</div>
								{% endif %}
							</div>
						{% endif %}
					</div>
					<div class="row_spacer" style="width: calc(100% - 100px); display: relative; float: right;">
					</div>
				{% endfor %}
			{% endif %}
		</div>

	</body>
</html>


